# 로또

## 기능 목록

- [x] 입출력을 처리하는 UI 로직을 담당하는 클래스
    - [x] 입력을 처리하는 InputView
        - [x] 로또 구입 금액을 입력받기
            - [x] 입력받은 값이 숫자형식이 아닐 때
        - [x] 당첨 번호를 입력받기
            - [x] 당첨번호에 숫자외 문자가 입력되거나, 공백이 입력되면 예외처리하기
        - [x] 보너스 번호를 입력받기
            - [x] 보너스번호에 숫자외 문자가 입력되면 예외처리하기
    - [x] 출력을 처리하는 OutputView
        - [x] 발행한 로또 수량 및 번호를 출력하기
        - [x] 당첨 내역을 템플릿에 맞게 출력하기
        - [x] 수익률을 출력하기
        - [x] 구입금액 입력 메세지 출력하기
        - [x] 당첨번호 입력 메세지 출력하기
        - [x] 보너스 번호 입력 메세지 출력하기

- [x] 로또 번호를 저장하기
    - [x] 로또 번호의 유효성
        - [x] 로또의 숫자 범위는 1~45 까지
        - [x] 로또 번호는 6개의 숫자로 구성
        - [x] 로또 번호에 중복이 있어서는 안 됨
    - [x] 로또 번호를 오름차순 정렬
    - [x] 번호가 포함되어 있는지 체크하기
    - [x] Lotto 끼리 비교하여 중복의 개수를 반환하기
    - [x] 로또 번호를 문자열로 반환하기

- [x] 입력받은 돈 만큼 랜덤으로 생성하고, 발행된 로또들을 저장하기
    - [x] 입력받은 돈만큼 로또를 랜덤으로 생성
    - [x] 멤버로 갖는 로또들의 당첨결과를 계산하기
    - [x] 멤버로 갖고 있는 로또들의 정보들을 반환하기

- [x] 구입금액에 대한 유효성 검사
    - [x] 1,000원으로 안 나눠 떨어지면 예외처리하기
    - [x] 입력받은 값이 0일 때

- [x] 당첨번호와 보너스번호를 저장하기
    - [x] 입력받은 번호로 로또를 생성
    - [x] 보너스 번호를 입력받아 저장
        - [x] 보너스 번호의 유효성 검사
            - [x] 로또의 숫자 범위는 1 ~ 45 까지
            - [x] 로또 번호와 중복이 안 되어야 함
    - [x] 로또와 비교해 당첨 결과 계산하기

- [x] 로또 번호의 일치 개수, 보너스 번호의 일치 여부, 상금, 순위의 count 를 저장하기
    - [x] 상금과 지금까지의 순위의 개수를 반환하기
    - [x] 로또 번호의 보너스 번호 일치 여부 확인하기
    - [x] 로또 번호의 일치 개수 반환하기
    - [x] 순위의 count 를 증가시키기
    - [x] 로또 번호의 일치 개수와, 보너스 번호의 일치여부를 입력받고 알맞는 순위를 반환하기

- [x] 핵심 비즈니스 로직을 처리할 service
    - [x] 구매 금액을 입력받아 구매금액 만큼의 로또 생성
    - [x] 보너스 번호와 당첨 번호를 입력받아 당첨번호 생성
    - [x] 당첨내역을 계산하기
    - [x] 생성된 로또들의 정보를 반환하기

- [x] 프로그램의 흐름을 관리하는 controller
    - [x] 구매금액를 입력받아, LottoService 에 전달
    - [x] 당첨번호와 보너스 번호를 입력받아, LottoService 에 전달
    - [x] lottoService 의 순위 계산 메소드를 호출하고, 결과 출력하기

- [x] 에러를 관리하는 Enum 리팩토링
    - [x] InputView에서 발생하는 error 메세지
        - [x] 로또 구입 금액을 입력받기
            - [x] 1,000원으로 안 나눠 떨어지면 예외처리하기
            - [x] 입력받은 값이 숫자형식이 아닐 때
            - [x] 입력받은 값이 0일 때
        - [x] 로또 번호를 입력받기
            - [x] 숫자가 아닌 형식이 입력되었을 때
    - [x] Lotto 클래스에서 발생할 error 메세지
        - [x] 로또의 숫자 범위는 1~45 까지
        - [x] 로또 번호는 6개의 숫자로 구성
        - [x] 로또 번호에 중복이 있어서는 안 됨.
    - [x] WinningNumbers 클래스에서 발생할 error 메세지
        - [x] 당첨 번호와 보너스번호가 중복이 안 되어야 함

## 기능 요구 사항

랜덤으로 로또를 생성하고, 당첨 번호와 비교하여, 당첨내역을 계산하는 프로그램이다.

```
- 로또 번호의 숫자 범위는 1~45까지이다.
- 1개의 로또를 발행할 때 중복되지 않는 6개의 숫자를 뽑는다.
- 당첨 번호 추첨 시 중복되지 않는 숫자 6개와 보너스 번호 1개를 뽑는다.
- 당첨은 1등부터 5등까지 있다. 당첨 기준과 금액은 아래와 같다.
    - 1등: 6개 번호 일치 / 2,000,000,000원
    - 2등: 5개 번호 + 보너스 번호 일치 / 30,000,000원
    - 3등: 5개 번호 일치 / 1,500,000원
    - 4등: 4개 번호 일치 / 50,000원
    - 5등: 3개 번호 일치 / 5,000원
```

- 로또 구입 금액을 입력하면 구입 금액에 해당하는 만큼 로또를 발행해야 한다.
- 로또 1장의 가격은 1,000원이다.
- 당첨 번호와 보너스 번호를 입력받는다.
- 사용자가 구매한 로또 번호와 당첨 번호를 비교하여 당첨 내역 및 수익률을 출력하고 로또 게임을 종료한다.
- 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`를 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 종료한다.

위 프로그램의 진행은 다음과 같다.

```
1. 플레이어가 로또 구입 금액을 입력한다.
2. 로또 구입 금액 만큼의 로또를 생성한다.
3. 생성된 로또의 정보를 출력한다.
4. 당첨 번호를 입력받는다.
5. 보너스 번호를 입력받는다.
6. 당첨번호와 보너스번호로 기존에 생성된 로또들의 당첨 결과를 계산한다.
7. 당첨내역과 수익률을 출력한다.
etc : 잘못된 값이 입력되는 경우 에러 메세지를 출력 후 프로그램이 종료된다.
```

---
## 전체적인 클래스 구조

![캡처](https://raw.githubusercontent.com/hong-sile/lotto-java/hong-sile/finalDesign.png?token=GHSAT0AAAAAABZV7YNIY7BGR7GBGAVIFINUY3TLDZA)